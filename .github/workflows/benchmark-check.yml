name: 'Benchmark Check'

on:
  workflow_dispatch:
    inputs:
      value1:
        description: "Value 1"
        required: true
        type: string

  push:


env:
  MY_ENV_VAR: 'my-env-var-1'
  CACHE_KEY: 'my-cache-key-1'


jobs:
  benchmark-check:
    name: 'Benchmark Check'
    runs-on: 'ubuntu-latest'

    steps:
    - name: 'Cache file'
      uses: actions/cache/restore@v4
      with:
        path: ${{ github.workspace }}/test1
        key: ${{ env.CACHE_KEY }}

    - name: 'Read file'
      run: |
        cd ${{ github.workspace }}/test1
        pwd
        ls -la ${{ github.workspace }}/test1
        cat ${{ github.workspace }}/test1/file1.txt

# ############################

    - name: 'Writer file'
      run: |
        mkdir -p ${{ github.workspace }}/test1
        echo ${{ github.event.inputs.value1 }} > "${{ github.workspace }}/test1/file1.txt"
        pwd
        ls -la ${{ github.workspace }}/test1
        echo "--->"
        cat ${{ github.workspace }}/test1/file1.txt

    - name: 'Cache file'
      uses: actions/cache/save@v4
      with:
        path: ${{ github.workspace }}/test1
        key: ${{ env.CACHE_KEY }}-${{ github.run_number }}
